# Pseudocode to read from the Keypad
def read_keypad():
    keytab = [
        [0x0D, 0x0F, 0x00, 0x0E],
        [0x0C, 0x09, 0x08, 0x07],
        [0x0B, 0x06, 0x05, 0x04],
        [0x0A, 0x03, 0x02, 0x01]
    ]
    for i in range(0, 4):
        row = (0b1000 >> i)
        output(row)
        col = read()
        for j in range(0, 4):
            in_mask = (0b1000 >> j)
            if (col & in_mask is not 0):
                return keytab[row][col]
        return 0xFF
